{
  "name": "ESP32-S3",
  "description": "Configuration for ESP32-S3 MCU extracted from PlatformIO",
  "mcu": "esp32s3",
  "architecture": "xtensa-esp32s3",

  "compiler_flags": {
    "common": [
      "-Os",
      "-mlongcalls",
      "-ffunction-sections",
      "-fdata-sections",
      "-Wno-error=unused-function",
      "-Wno-error=unused-variable",
      "-Wno-error=unused-but-set-variable",
      "-Wno-error=deprecated-declarations",
      "-Wno-error=extra",
      "-Wno-unused-parameter",
      "-Wno-sign-compare",
      "-Wno-enum-conversion",
      "-gdwarf-4",
      "-ggdb",
      "-mdisable-hardware-atomics",
      "-freorder-blocks",
      "-Wwrite-strings",
      "-fstack-protector",
      "-fstrict-volatile-bitfields",
      "-fno-jump-tables",
      "-fno-tree-switch-conversion",
      "-MMD"
    ],
    "c": [
      "-fno-builtin-memcpy",
      "-fno-builtin-memset",
      "-fno-builtin-bzero",
      "-fno-builtin-stpcpy",
      "-fno-builtin-strncpy",
      "-std=gnu17",
      "-Wno-old-style-declaration",
      "-Wno-strict-prototypes"
    ],
    "cxx": [
      "-fno-builtin-memcpy",
      "-fno-builtin-memset",
      "-fno-builtin-bzero",
      "-fno-builtin-stpcpy",
      "-fno-builtin-strncpy",
      "-std=gnu++2b",
      "-fexceptions",
      "-fno-rtti",
      "-fuse-cxa-atexit"
    ]
  },

  "linker_flags": [
    "-mlongcalls",
    "-nostartfiles",
    "-Wl,--cref",
    "-Wl,--defsym=IDF_TARGET_ESP32S3=0",
    "-Wl,--no-warn-rwx-segments",
    "-Wl,--orphan-handling=warn",
    "-fno-rtti",
    "-fno-lto",
    "-Wl,--gc-sections",
    "-Wl,--warn-common",
    "-Wl,--wrap=log_printf",
    "-Wl,--wrap=longjmp",
    "-Wl,--undefined=FreeRTOS_openocd_params",
    "-u", "nvs_sec_provider_include_impl",
    "-u", "_Z5setupv",
    "-u", "_Z4loopv",
    "-u", "esp_app_desc",
    "-u", "esp_efuse_startup_include_func",
    "-u", "ld_include_highint_hdl",
    "-u", "start_app",
    "-u", "start_app_other_cores",
    "-u", "__ubsan_include",
    "-u", "esp_system_include_startup_funcs",
    "-u", "__assert_func",
    "-u", "esp_security_init_include_impl",
    "-u", "app_main",
    "-u", "esp_libc_include_heap_impl",
    "-u", "esp_libc_include_reent_syscalls_impl",
    "-u", "esp_libc_include_syscalls_impl",
    "-u", "esp_libc_include_pthread_impl",
    "-u", "esp_libc_include_assert_impl",
    "-u", "esp_libc_include_getentropy_impl",
    "-u", "esp_libc_include_init_funcs",
    "-u", "esp_libc_init_funcs",
    "-u", "pthread_include_pthread_impl",
    "-u", "pthread_include_pthread_cond_var_impl",
    "-u", "pthread_include_pthread_local_storage_impl",
    "-u", "pthread_include_pthread_rwlock_impl",
    "-u", "pthread_include_pthread_semaphore_impl",
    "-u", "__cxa_guard_dummy",
    "-u", "__cxx_init_dummy",
    "-u", "esp_timer_init_include_func",
    "-u", "uart_vfs_include_dev_init",
    "-u", "include_esp_phy_override",
    "-u", "usb_serial_jtag_vfs_include_dev_init",
    "-u", "usb_serial_jtag_connection_monitor_include",
    "-u", "esp_vfs_include_console_register",
    "-u", "vfs_include_syscalls_impl",
    "-u", "esp_vfs_include_nullfs_register",
    "-u", "esp_system_include_coredump_init"
  ],

  "linker_scripts": [
    "esp32s3.peripherals.ld",
    "esp32s3.rom.ld",
    "esp32s3.rom.api.ld",
    "esp32s3.rom.bt_funcs.ld",
    "esp32s3.rom.libgcc.ld",
    "esp32s3.rom.wdt.ld",
    "esp32s3.rom.version.ld",
    "esp32s3.rom.ble_cca.ld",
    "esp32s3.rom.ble_test.ld",
    "esp32s3.rom.libc.ld",
    "esp32s3.rom.newlib.ld",
    "memory.ld",
    "sections.ld"
  ],

  "defines": [
    "ESP32_ARDUINO_LIB_BUILDER",
    ["ESP_MDNS_VERSION_NUMBER", "\"1.9.0\""],
    "ESP_PLATFORM",
    ["IDF_VER", "\"v5.5.1-710-g8410210c9a\""],
    ["MBEDTLS_CONFIG_FILE", "\"mbedtls/esp_config.h\""],
    ["MD5_ENABLED", "1"],
    ["OPENTHREAD_CONFIG_FILE", "\"openthread-core-esp32x-spinel-config.h\""],
    ["OPENTHREAD_PROJECT_LIB_CONFIG_FILE", "\"openthread-core-esp32x-spinel-config.h\""],
    ["SERIAL_FLASHER_BOOT_HOLD_TIME_MS", "50"],
    ["SERIAL_FLASHER_RESET_HOLD_TIME_MS", "100"],
    ["SOC_MMU_PAGE_SIZE", "CONFIG_MMU_PAGE_SIZE"],
    ["SOC_XTAL_FREQ_MHZ", "CONFIG_XTAL_FREQ"],
    "UNITY_INCLUDE_CONFIG_H",
    "_GLIBCXX_HAVE_POSIX_SEMAPHORE",
    "_GLIBCXX_USE_POSIX_SEMAPHORE",
    "_GNU_SOURCE",
    "_POSIX_READER_WRITER_LOCKS",
    "TF_LITE_STATIC_MEMORY",
    ["CHIP_CONFIG_SOFTWARE_VERSION_NUMBER", "0"],
    ["CHIP_DNSSD_DEFAULT_PLATFORM", "true"],
    ["CHIP_DNSSD_DEFAULT_NONE", "false"],
    ["CHIP_DNSSD_DEFAULT_MINIMAL", "false"],
    "ARDUINO_ARCH_ESP32",
    "CHIP_HAVE_CONFIG_H",
    ["ESP32", "ESP32"]
  ]
}
